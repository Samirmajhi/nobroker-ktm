{"ast":null,"code":"import _objectSpread from\"/home/anonymous/Downloads/no-broker-kathmandu/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{useSelector}from'react-redux';import{Home,Calendar,Clock,Eye,Building,MapPin}from'lucide-react';import{getImageUrl}from'../services/config';import ReportsSidepane from'../components/reports/ReportsSidepane';import ReportViewer from'../components/reports/ReportViewer';import AdsManagement from'../components/ads/AdsManagement';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const StaffDashboardPage=()=>{const{user}=useSelector(state=>state.auth);const[stats,setStats]=useState(null);const[todayListings,setTodayListings]=useState([]);const[todayVisits,setTodayVisits]=useState([]);const[loading,setLoading]=useState(true);const[activeTab,setActiveTab]=useState('overview');// Report states\nconst[visitReportData,setVisitReportData]=useState([]);const[userReportData,setUserReportData]=useState(null);const[listingReportData,setListingReportData]=useState([]);const[engagementReportData,setEngagementReportData]=useState([]);// Filter states\nconst[visitFilters,setVisitFilters]=useState({dateFrom:'',dateTo:'',status:'',propertyType:''});const[userFilters,setUserFilters]=useState({role:'',kycStatus:'',dateRange:'30'});const[listingFilters,setListingFilters]=useState({propertyType:'',priceRange:'',status:'',dateRange:'30'});// Visit management states\nconst[allVisits,setAllVisits]=useState([]);const[allVisitsLoading,setAllVisitsLoading]=useState(false);const[visitManagementFilters,setVisitManagementFilters]=useState({status:'',dateFrom:'',dateTo:''});// All listings report states\nconst[allListingsReportData,setAllListingsReportData]=useState([]);const[allListingsFilters,setAllListingsFilters]=useState({propertyType:'',priceRange:'',status:'',location:'',owner:''});// Report navigation state\nconst[activeReport,setActiveReport]=useState('visits');const[reportFilters,setReportFilters]=useState({dateFrom:'',dateTo:'',status:'',propertyType:'',priceRange:'',location:'',owner:'',role:'',kycStatus:'',dateRange:'30'});const[isReportsPaneOpen,setIsReportsPaneOpen]=useState(false);const[currentPage,setCurrentPage]=useState(1);const[itemsPerPage,setItemsPerPage]=useState(20);// Ads Management (no ad display for staff)\nconst[showAdsManagement,setShowAdsManagement]=useState(false);useEffect(()=>{fetchStaffData();},[]);// No ad tracking for staff\nconst fetchStaffData=async()=>{try{const token=localStorage.getItem('token');const headers={'Authorization':\"Bearer \".concat(token),'Content-Type':'application/json'};// Fetch dashboard stats\nconst statsResponse=await fetch('http://localhost:5000/api/staff/dashboard-stats',{headers});const statsData=await statsResponse.json();setStats(statsData);// Fetch today's listings\nconst listingsResponse=await fetch('http://localhost:5000/api/staff/today-listings',{headers});const listingsData=await listingsResponse.json();setTodayListings(listingsData.listings);// Fetch today's visits\nconst visitsResponse=await fetch('http://localhost:5000/api/staff/today-visits',{headers});const visitsData=await visitsResponse.json();setTodayVisits(visitsData.visits);setLoading(false);}catch(error){console.error('Error fetching staff data:',error);setLoading(false);}};const formatPrice=price=>{return new Intl.NumberFormat('en-IN',{style:'currency',currency:'NPR',minimumFractionDigits:0}).format(price);};const formatDateTime=dateTime=>{return new Date(dateTime).toLocaleString();};// Report functions\nconst applyReportFilters=async filters=>{setReportFilters(filters);setCurrentPage(1);try{switch(activeReport){case'visits':setVisitFilters({dateFrom:filters.dateFrom||'',dateTo:filters.dateTo||'',status:filters.status||'',propertyType:filters.propertyType||''});await fetchVisitReport();break;case'users':setUserFilters({role:filters.role||'',kycStatus:filters.kycStatus||'',dateRange:filters.dateRange||'30'});await fetchUserReport();break;case'listings':setListingFilters({propertyType:filters.propertyType||'',priceRange:filters.priceRange||'',status:filters.status||'',dateRange:filters.dateRange||'30'});await fetchListingReport();break;case'engagement':case'allListings':setAllListingsFilters({propertyType:filters.propertyType||'',priceRange:filters.priceRange||'',status:filters.status||'',location:filters.location||'',owner:filters.owner||''});await fetchAllListingsReport();break;case'userRegistrations':await fetchUserRegistrationsReport(filters);break;case'userActivity':await fetchUserActivityReport(filters);break;case'pricePreferences':await fetchPricePreferencesReport(filters);break;case'userFavorites':await fetchUserFavoritesReport(filters);break;case'favoritesByTenant':await fetchFavoritesByTenantReport(filters);break;case'matches':await fetchMatchesReport(filters);break;case'revenue':await fetchRevenueReport(filters);break;case'subscriptions':await fetchSubscriptionsReport(filters);break;default:console.log('Unknown report type:',activeReport);}}catch(error){console.error('Error applying filters:',error);}};const fetchVisitReport=async()=>{try{const token=localStorage.getItem('token');const params=new URLSearchParams();if(visitFilters.dateFrom)params.append('date_from',visitFilters.dateFrom);if(visitFilters.dateTo)params.append('date_to',visitFilters.dateTo);if(visitFilters.status)params.append('status',visitFilters.status);if(visitFilters.propertyType)params.append('property_type',visitFilters.propertyType);const response=await fetch(\"http://localhost:5000/api/staff/reports?\".concat(params.toString()),{headers:{'Authorization':\"Bearer \".concat(token),'Content-Type':'application/json'}});if(response.ok){const data=await response.json();setVisitReportData(data.visitTrends||[]);}}catch(error){console.error('Error fetching visit report:',error);}};const fetchUserReport=async()=>{try{const token=localStorage.getItem('token');const params=new URLSearchParams();if(userFilters.role)params.append('role',userFilters.role);if(userFilters.kycStatus)params.append('kyc_status',userFilters.kycStatus);params.append('period',userFilters.dateRange);const response=await fetch(\"http://localhost:5000/api/staff/reports?\".concat(params.toString()),{headers:{'Authorization':\"Bearer \".concat(token),'Content-Type':'application/json'}});if(response.ok){const data=await response.json();setUserReportData(data.userStats||{});}}catch(error){console.error('Error fetching user report:',error);}};const fetchListingReport=async()=>{try{const token=localStorage.getItem('token');const params=new URLSearchParams();if(listingFilters.propertyType)params.append('property_type',listingFilters.propertyType);if(listingFilters.priceRange)params.append('price_range',listingFilters.priceRange);if(listingFilters.status)params.append('status',listingFilters.status);params.append('period',listingFilters.dateRange);const response=await fetch(\"http://localhost:5000/api/staff/reports?\".concat(params.toString()),{headers:{'Authorization':\"Bearer \".concat(token),'Content-Type':'application/json'}});if(response.ok){const data=await response.json();setListingReportData(data.listingPerformance||[]);setEngagementReportData(data.listingPerformance||[]);}}catch(error){console.error('Error fetching listing report:',error);}};// CSV utility for consistent exports\nconst toCsv=(rows,columns)=>{const escapeCell=val=>{if(val===null||val===undefined)return'';const s=String(val);if(/[\",\\n]/.test(s)){return'\"'+s.replace(/\"/g,'\"\"')+'\"';}return s;};const header=columns.join(',');const body=rows.map(r=>columns.map(c=>escapeCell(r[c])).join(',')).join('\\n');return header+'\\n'+body+'\\n';};// Export functions (consistent columns and formatting)\nconst exportReport=type=>{var _userReportData$total,_userReportData$verif,_userReportData$pendi,_userReportData$activ;let filename='';let columns=[];let rows=[];switch(type){case'visits':filename='visit_statistics.csv';columns=['Date','Total Visits','Completed','Cancelled','Matches'];rows=(visitReportData||[]).map(r=>({'Date':r.date,'Total Visits':r.total_visits,'Completed':r.completed_visits,'Cancelled':r.cancelled_visits,'Matches':r.matches}));break;case'users':filename='user_statistics.csv';columns=['Total Users','Verified Users','Pending KYC','Active Users'];rows=[{'Total Users':(_userReportData$total=userReportData===null||userReportData===void 0?void 0:userReportData.total_users)!==null&&_userReportData$total!==void 0?_userReportData$total:0,'Verified Users':(_userReportData$verif=userReportData===null||userReportData===void 0?void 0:userReportData.verified_users)!==null&&_userReportData$verif!==void 0?_userReportData$verif:0,'Pending KYC':(_userReportData$pendi=userReportData===null||userReportData===void 0?void 0:userReportData.pending_kyc)!==null&&_userReportData$pendi!==void 0?_userReportData$pendi:0,'Active Users':(_userReportData$activ=userReportData===null||userReportData===void 0?void 0:userReportData.active_users)!==null&&_userReportData$activ!==void 0?_userReportData$activ:0}];break;case'listings':filename='listing_performance.csv';columns=['Property','Location','Price','Total Visits','Interested Tenants','Matches'];rows=(listingReportData||[]).map(r=>({'Property':r.title,'Location':r.location,'Price':r.price,'Total Visits':r.total_visits,'Interested Tenants':r.interested_tenants,'Matches':r.matches}));break;case'engagement':filename='property_engagement.csv';columns=['Property','Location','Price','Favorites','Interested Tenants','Interested Owners','Matches'];rows=(engagementReportData||[]).map(r=>({'Property':r.title,'Location':r.location,'Price':r.price,'Favorites':r.favorites||0,'Interested Tenants':r.interested_tenants||0,'Interested Owners':r.interested_owners||0,'Matches':r.matches||0}));break;case'allListings':filename='all_listings.csv';columns=['Property','Location','Type','Price','Owner','Status','Created','Total Visits'];rows=(allListingsReportData||[]).map(r=>({'Property':r.title,'Location':r.location,'Type':r.property_type,'Price':r.price,'Owner':r.owner_name,'Status':r.is_active?'Active':'Inactive','Created':new Date(r.created_at).toISOString().slice(0,10),'Total Visits':r.total_visits||0}));break;default:return;}const csv=toCsv(rows,columns);const blob=new Blob([csv],{type:'text/csv;charset=utf-8;'});const link=document.createElement('a');link.href=URL.createObjectURL(blob);link.download=filename;document.body.appendChild(link);link.click();document.body.removeChild(link);};// Fetch all visits for management\nconst fetchAllVisits=async()=>{try{setAllVisitsLoading(true);const token=localStorage.getItem('token');const params=new URLSearchParams();if(visitManagementFilters.status){params.append('status',visitManagementFilters.status);}if(visitManagementFilters.dateFrom){params.append('date_from',visitManagementFilters.dateFrom);}if(visitManagementFilters.dateTo){params.append('date_to',visitManagementFilters.dateTo);}const response=await fetch(\"http://localhost:5000/api/staff/all-visits?\".concat(params.toString()),{headers:{'Authorization':\"Bearer \".concat(token),'Content-Type':'application/json'}});if(response.ok){const data=await response.json();setAllVisits(data.visits||[]);}}catch(error){console.error('Error fetching all visits:',error);}finally{setAllVisitsLoading(false);}};// Fetch all listings report\nconst fetchAllListingsReport=async()=>{try{const token=localStorage.getItem('token');const params=new URLSearchParams();if(allListingsFilters.propertyType){params.append('property_type',allListingsFilters.propertyType);}if(allListingsFilters.priceRange){params.append('price_range',allListingsFilters.priceRange);}if(allListingsFilters.status){params.append('status',allListingsFilters.status);}if(allListingsFilters.location){params.append('location',allListingsFilters.location);}if(allListingsFilters.owner){params.append('owner',allListingsFilters.owner);}const response=await fetch(\"http://localhost:5000/api/staff/all-listings?\".concat(params.toString()),{headers:{'Authorization':\"Bearer \".concat(token),'Content-Type':'application/json'}});if(response.ok){const data=await response.json();setAllListingsReportData(data.listings||[]);}}catch(error){console.error('Error fetching all listings report:',error);}};// New report fetching functions\nconst fetchUserRegistrationsReport=async function(){let filters=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};try{const params=new URLSearchParams();if(filters.dateFrom)params.append('dateFrom',filters.dateFrom);if(filters.dateTo)params.append('dateTo',filters.dateTo);if(filters.role)params.append('role',filters.role);const response=await fetch(\"http://localhost:5000/api/staff/reports/user-registrations?\".concat(params),{headers:{Authorization:\"Bearer \".concat(localStorage.getItem('token'))}});if(response.ok){const data=await response.json();setUserReportData(data);}}catch(error){console.error('Error fetching user registrations report:',error);}};const fetchUserActivityReport=async function(){let filters=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};try{const params=new URLSearchParams();if(filters.role)params.append('role',filters.role);if(filters.isActive!==undefined)params.append('isActive',filters.isActive);if(filters.lastLoginDays)params.append('lastLoginDays',filters.lastLoginDays);const response=await fetch(\"http://localhost:5000/api/staff/reports/user-activity?\".concat(params),{headers:{Authorization:\"Bearer \".concat(localStorage.getItem('token'))}});if(response.ok){const data=await response.json();setUserReportData(data);}}catch(error){console.error('Error fetching user activity report:',error);}};const fetchPricePreferencesReport=async function(){let filters=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};try{const params=new URLSearchParams();if(filters.dateFrom)params.append('dateFrom',filters.dateFrom);if(filters.dateTo)params.append('dateTo',filters.dateTo);const response=await fetch(\"http://localhost:5000/api/staff/reports/price-preferences?\".concat(params),{headers:{Authorization:\"Bearer \".concat(localStorage.getItem('token'))}});if(response.ok){const data=await response.json();setListingReportData(data);}}catch(error){console.error('Error fetching price preferences report:',error);}};const fetchUserFavoritesReport=async function(){let filters=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};try{const params=new URLSearchParams();if(filters.dateFrom)params.append('dateFrom',filters.dateFrom);if(filters.dateTo)params.append('dateTo',filters.dateTo);if(filters.userId)params.append('userId',filters.userId);if(filters.listingId)params.append('listingId',filters.listingId);const response=await fetch(\"http://localhost:5000/api/staff/reports/user-favorites?\".concat(params),{headers:{Authorization:\"Bearer \".concat(localStorage.getItem('token'))}});if(response.ok){const data=await response.json();setListingReportData(data);}}catch(error){console.error('Error fetching user favorites report:',error);}};const fetchFavoritesByTenantReport=async function(){let filters=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};try{const params=new URLSearchParams();if(filters.dateFrom)params.append('dateFrom',filters.dateFrom);if(filters.dateTo)params.append('dateTo',filters.dateTo);if(filters.tenantId)params.append('tenantId',filters.tenantId);const response=await fetch(\"http://localhost:5000/api/staff/reports/favorites-by-tenant?\".concat(params),{headers:{Authorization:\"Bearer \".concat(localStorage.getItem('token'))}});if(response.ok){const data=await response.json();setListingReportData(data);}}catch(error){console.error('Error fetching favorites by tenant report:',error);}};const fetchMatchesReport=async function(){let filters=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};try{const params=new URLSearchParams();if(filters.dateFrom)params.append('dateFrom',filters.dateFrom);if(filters.dateTo)params.append('dateTo',filters.dateTo);if(filters.status)params.append('status',filters.status);const response=await fetch(\"http://localhost:5000/api/staff/reports/matches?\".concat(params),{headers:{Authorization:\"Bearer \".concat(localStorage.getItem('token'))}});if(response.ok){const data=await response.json();setListingReportData(data);}}catch(error){console.error('Error fetching matches report:',error);}};const fetchRevenueReport=async function(){let filters=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};try{const params=new URLSearchParams();if(filters.dateFrom)params.append('dateFrom',filters.dateFrom);if(filters.dateTo)params.append('dateTo',filters.dateTo);const response=await fetch(\"http://localhost:5000/api/staff/reports/revenue?\".concat(params),{headers:{Authorization:\"Bearer \".concat(localStorage.getItem('token'))}});if(response.ok){const data=await response.json();setListingReportData(data);}}catch(error){console.error('Error fetching revenue report:',error);}};const fetchSubscriptionsReport=async function(){let filters=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};try{const params=new URLSearchParams();if(filters.status)params.append('status',filters.status);if(filters.planType)params.append('planType',filters.planType);const response=await fetch(\"http://localhost:5000/api/staff/reports/subscriptions?\".concat(params),{headers:{Authorization:\"Bearer \".concat(localStorage.getItem('token'))}});if(response.ok){const data=await response.json();setListingReportData(data);}}catch(error){console.error('Error fetching subscriptions report:',error);}};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50 flex justify-center items-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"})});}if(!user||!['staff','admin'].includes(user.role)){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50 flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-gray-900 mb-4\",children:\"Access Denied\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"This dashboard is only for staff and admin users.\"})]})});}// No ad click handling for staff\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white shadow-sm border-b\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-gray-900\",children:\"Staff Dashboard\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600\",children:[\"Welcome back, \",user===null||user===void 0?void 0:user.full_name]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"px-3 py-1 bg-blue-100 text-blue-800 text-sm font-medium rounded-full\",children:user.role==='admin'?'Admin':'Staff'}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowAdsManagement(true),className:\"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Eye,{className:\"w-4 h-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Manage Ads\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:fetchStaffData,className:\"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors\",children:\"Refresh Data\"})]})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-6\",children:/*#__PURE__*/_jsxs(\"nav\",{className:\"flex space-x-8\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTab('overview'),className:\"py-2 px-1 border-b-2 font-medium text-sm \".concat(activeTab==='overview'?'border-blue-500 text-blue-600':'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'),children:\"Overview\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTab('today'),className:\"py-2 px-1 border-b-2 font-medium text-sm \".concat(activeTab==='today'?'border-blue-500 text-blue-600':'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'),children:\"Today's Activity\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTab('visits'),className:\"py-2 px-1 border-b-2 font-medium text-sm \".concat(activeTab==='visits'?'border-blue-500 text-blue-600':'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'),children:\"Visit Management\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTab('reports'),className:\"py-2 px-1 border-b-2 font-medium text-sm \".concat(activeTab==='reports'?'border-blue-500 text-blue-600':'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'),children:\"Reports & Analytics\"})]})}),activeTab==='overview'&&stats&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-sm p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-2 bg-blue-100 rounded-lg\",children:/*#__PURE__*/_jsx(Home,{className:\"w-6 h-6 text-blue-600\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-600\",children:\"Today's Listings\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-gray-900\",children:stats.todayListings})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-sm p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-2 bg-green-100 rounded-lg\",children:/*#__PURE__*/_jsx(Calendar,{className:\"w-6 h-6 text-green-600\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-600\",children:\"Today's Visits\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-gray-900\",children:stats.todayVisits})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-sm p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-2 bg-yellow-100 rounded-lg\",children:/*#__PURE__*/_jsx(Clock,{className:\"w-6 h-6 text-yellow-600\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-600\",children:\"Pending Visits\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-gray-900\",children:stats.pendingVisits})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-sm p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-2 bg-purple-100 rounded-lg\",children:/*#__PURE__*/_jsx(Building,{className:\"w-6 h-6 text-purple-600\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-600\",children:\"Active Listings\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-gray-900\",children:stats.activeListings})]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-3 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:\"Visit Statistics\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Total Visits\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:stats.visitStats.total_visits})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Scheduled\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-yellow-600\",children:stats.visitStats.scheduled_visits})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Completed\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-green-600\",children:stats.visitStats.completed_visits})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Cancelled\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-red-600\",children:stats.visitStats.cancelled_visits})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Matches\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-blue-600\",children:stats.visitStats.matches})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:\"User Statistics\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Total Users\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:stats.userStats.total_users})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Tenants\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-blue-600\",children:stats.userStats.tenants})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Owners\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-green-600\",children:stats.userStats.owners})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Verified\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-purple-600\",children:stats.userStats.verified_users})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Pending KYC\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-yellow-600\",children:stats.userStats.pending_kyc})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:\"Listing Statistics\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Total Listings\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:stats.listingStats.total_listings})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Active\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-green-600\",children:stats.listingStats.active_listings})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Avg Price\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:formatPrice(parseFloat(stats.listingStats.avg_price)||0)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Apartments\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:stats.listingStats.apartments})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Houses\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:stats.listingStats.houses})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"px-6 py-4 border-b border-gray-200\",children:/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold text-gray-900\",children:\"Recent Activity\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"p-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:stats.recentActivity.slice(0,10).map((activity,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-2 rounded-full \".concat(activity.activity_type==='new_listing'?'bg-green-100':'bg-blue-100'),children:activity.activity_type==='new_listing'?/*#__PURE__*/_jsx(Home,{className:\"w-4 h-4 text-green-600\"}):/*#__PURE__*/_jsx(Calendar,{className:\"w-4 h-4 text-blue-600\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-900\",children:activity.description}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500\",children:formatDateTime(activity.timestamp)})]})]},index))})})]})]}),activeTab==='today'&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"px-6 py-4 border-b border-gray-200\",children:/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold text-gray-900\",children:\"Today's New Listings\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"p-6\",children:todayListings.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 text-center py-8\",children:\"No new listings today\"}):/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",children:todayListings.map(listing=>/*#__PURE__*/_jsx(\"div\",{className:\"border border-gray-200 rounded-lg p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start space-x-4\",children:[listing.primary_photo&&/*#__PURE__*/_jsx(\"img\",{src:getImageUrl(listing.primary_photo),alt:listing.title,className:\"w-16 h-16 object-cover rounded-lg\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-medium text-gray-900\",children:listing.title}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600 flex items-center\",children:[/*#__PURE__*/_jsx(MapPin,{className:\"w-4 h-4 mr-1\"}),listing.location]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600\",children:[listing.bedrooms,\"BHK \\u2022 \",listing.property_type]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg font-semibold text-blue-600\",children:formatPrice(listing.price)}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mt-2\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-500\",children:[\"Owner: \",listing.owner_name]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-500\",children:[listing.visit_count,\" visits\"]})]})]})]})},listing.listing_id))})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"px-6 py-4 border-b border-gray-200\",children:/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold text-gray-900\",children:\"Today's Visits\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"p-6\",children:todayVisits.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 text-center py-8\",children:\"No visits scheduled for today\"}):/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:todayVisits.map(visit=>/*#__PURE__*/_jsx(\"div\",{className:\"border border-gray-200 rounded-lg p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start space-x-4\",children:[visit.listing_photo&&/*#__PURE__*/_jsx(\"img\",{src:getImageUrl(visit.listing_photo),alt:visit.listing_title,className:\"w-16 h-16 object-cover rounded-lg\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-medium text-gray-900\",children:visit.listing_title}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600 flex items-center\",children:[/*#__PURE__*/_jsx(MapPin,{className:\"w-4 h-4 mr-1\"}),visit.listing_location]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600\",children:[/*#__PURE__*/_jsx(Calendar,{className:\"w-4 h-4 mr-1 inline\"}),formatDateTime(visit.visit_datetime)]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mt-2\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600\",children:[\"Tenant: \",visit.tenant_name]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600\",children:[\"Owner: \",visit.owner_name]})]}),/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 text-xs rounded-full \".concat(visit.status==='scheduled'?'bg-yellow-100 text-yellow-800':visit.status==='completed'?'bg-green-100 text-green-800':'bg-red-100 text-red-800'),children:visit.status})]}),visit.visit_notes&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-500 mt-2 italic\",children:[\"\\\"\",visit.visit_notes,\"\\\"\"]})]})]})},visit.visit_id))})})]})]}),activeTab==='visits'&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"px-6 py-4 border-b border-gray-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold text-gray-900\",children:\"Visit Management\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>fetchAllVisits(),className:\"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors\",children:\"Refresh\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-4 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Status\"}),/*#__PURE__*/_jsxs(\"select\",{value:visitManagementFilters.status,onChange:e=>setVisitManagementFilters(_objectSpread(_objectSpread({},visitManagementFilters),{},{status:e.target.value})),className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Statuses\"}),/*#__PURE__*/_jsx(\"option\",{value:\"scheduled\",children:\"Scheduled\"}),/*#__PURE__*/_jsx(\"option\",{value:\"completed\",children:\"Completed\"}),/*#__PURE__*/_jsx(\"option\",{value:\"cancelled\",children:\"Cancelled\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Date From\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:visitManagementFilters.dateFrom,onChange:e=>setVisitManagementFilters(_objectSpread(_objectSpread({},visitManagementFilters),{},{dateFrom:e.target.value})),className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:ring-blue-500 focus:border-blue-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Date To\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:visitManagementFilters.dateTo,onChange:e=>setVisitManagementFilters(_objectSpread(_objectSpread({},visitManagementFilters),{},{dateTo:e.target.value})),className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:ring-blue-500 focus:border-blue-500\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-end\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>fetchAllVisits(),className:\"w-full px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors\",children:\"Apply Filters\"})})]})}),allVisitsLoading?/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center py-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"})}):allVisits.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 text-center py-8\",children:\"No visits found matching your criteria.\"}):/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full divide-y divide-gray-200\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Property\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Tenant\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Owner\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Date & Time\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Decisions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white divide-y divide-gray-200\",children:allVisits.map(visit=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-gray-900\",children:visit.listing_title}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-500\",children:visit.listing_location})]}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-900\",children:visit.tenant_name}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-500\",children:visit.tenant_phone})]}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-900\",children:visit.owner_name}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-500\",children:visit.owner_phone})]}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",children:[new Date(visit.visit_datetime).toLocaleDateString(),\" at\",' ',new Date(visit.visit_datetime).toLocaleTimeString()]}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsx(\"span\",{className:\"px-2 inline-flex text-xs leading-5 font-semibold rounded-full \".concat(visit.status==='completed'?'bg-green-100 text-green-800':visit.status==='scheduled'?'bg-yellow-100 text-yellow-800':'bg-red-100 text-red-800'),children:visit.status})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-1\",children:[visit.tenant_decision&&/*#__PURE__*/_jsxs(\"div\",{children:[\"Tenant: \",/*#__PURE__*/_jsx(\"span\",{className:\"font-medium \".concat(visit.tenant_decision==='interested'?'text-green-600':visit.tenant_decision==='not_interested'?'text-red-600':'text-yellow-600'),children:visit.tenant_decision.replace('_',' ')})]}),visit.owner_decision&&/*#__PURE__*/_jsxs(\"div\",{children:[\"Owner: \",/*#__PURE__*/_jsx(\"span\",{className:\"font-medium \".concat(visit.owner_decision==='interested'?'text-green-600':visit.owner_decision==='not_interested'?'text-red-600':'text-yellow-600'),children:visit.owner_decision.replace('_',' ')})]}),visit.tenant_decision==='interested'&&visit.owner_decision==='interested'&&/*#__PURE__*/_jsx(\"div\",{className:\"text-blue-600 font-medium\",children:\"\\uD83C\\uDF89 Match!\"})]})})]},visit.visit_id))})]})})]})]}),activeTab==='reports'&&/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-12 gap-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"lg:col-span-3\",children:/*#__PURE__*/_jsx(ReportsSidepane,{isOpen:true,onClose:()=>{},mode:\"inline\",hideFilters:true,activeReport:activeReport,onReportSelect:r=>{setActiveReport(r);switch(r){case'visits':fetchVisitReport();break;case'users':fetchUserReport();break;case'listings':case'engagement':fetchListingReport();break;case'allListings':fetchAllListingsReport();break;case'userRegistrations':fetchUserRegistrationsReport();break;case'userActivity':fetchUserActivityReport();break;case'pricePreferences':fetchPricePreferencesReport();break;case'userFavorites':fetchUserFavoritesReport();break;case'favoritesByTenant':fetchFavoritesByTenantReport();break;case'matches':fetchMatchesReport();break;case'revenue':fetchRevenueReport();break;case'subscriptions':fetchSubscriptionsReport();break;default:console.log('Unknown report type:',r);}},onApplyFilters:f=>applyReportFilters(f),onExport:r=>exportReport(r)})}),/*#__PURE__*/_jsxs(\"div\",{className:\"lg:col-span-9 space-y-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-between\",children:/*#__PURE__*/_jsxs(\"h2\",{className:\"text-xl font-semibold text-gray-900\",children:[activeReport==='visits'&&'Visit Analytics',activeReport==='users'&&'User Analytics',activeReport==='listings'&&'Listing Performance',activeReport==='engagement'&&'Property Engagement',activeReport==='allListings'&&'All Listings']})}),/*#__PURE__*/_jsx(ReportViewer,{reportType:activeReport,data:activeReport==='visits'?visitReportData:activeReport==='users'?userReportData:activeReport==='listings'?listingReportData:activeReport==='engagement'?engagementReportData:activeReport==='allListings'?allListingsReportData:activeReport==='userRegistrations'?userReportData:activeReport==='userActivity'?userReportData:activeReport==='pricePreferences'?listingReportData:activeReport==='userFavorites'?listingReportData:activeReport==='favoritesByTenant'?listingReportData:activeReport==='matches'?listingReportData:activeReport==='revenue'?listingReportData:activeReport==='subscriptions'?listingReportData:[],filters:reportFilters,onExport:type=>exportReport(type),onFilterChange:f=>applyReportFilters(f)})]})]})]}),/*#__PURE__*/_jsx(AdsManagement,{isOpen:showAdsManagement,onClose:()=>setShowAdsManagement(false)})]});};export default StaffDashboardPage;","map":{"version":3,"names":["React","useState","useEffect","useSelector","Home","Calendar","Clock","Eye","Building","MapPin","getImageUrl","ReportsSidepane","ReportViewer","AdsManagement","jsx","_jsx","jsxs","_jsxs","StaffDashboardPage","user","state","auth","stats","setStats","todayListings","setTodayListings","todayVisits","setTodayVisits","loading","setLoading","activeTab","setActiveTab","visitReportData","setVisitReportData","userReportData","setUserReportData","listingReportData","setListingReportData","engagementReportData","setEngagementReportData","visitFilters","setVisitFilters","dateFrom","dateTo","status","propertyType","userFilters","setUserFilters","role","kycStatus","dateRange","listingFilters","setListingFilters","priceRange","allVisits","setAllVisits","allVisitsLoading","setAllVisitsLoading","visitManagementFilters","setVisitManagementFilters","allListingsReportData","setAllListingsReportData","allListingsFilters","setAllListingsFilters","location","owner","activeReport","setActiveReport","reportFilters","setReportFilters","isReportsPaneOpen","setIsReportsPaneOpen","currentPage","setCurrentPage","itemsPerPage","setItemsPerPage","showAdsManagement","setShowAdsManagement","fetchStaffData","token","localStorage","getItem","headers","concat","statsResponse","fetch","statsData","json","listingsResponse","listingsData","listings","visitsResponse","visitsData","visits","error","console","formatPrice","price","Intl","NumberFormat","style","currency","minimumFractionDigits","format","formatDateTime","dateTime","Date","toLocaleString","applyReportFilters","filters","fetchVisitReport","fetchUserReport","fetchListingReport","fetchAllListingsReport","fetchUserRegistrationsReport","fetchUserActivityReport","fetchPricePreferencesReport","fetchUserFavoritesReport","fetchFavoritesByTenantReport","fetchMatchesReport","fetchRevenueReport","fetchSubscriptionsReport","log","params","URLSearchParams","append","response","toString","ok","data","visitTrends","userStats","listingPerformance","toCsv","rows","columns","escapeCell","val","undefined","s","String","test","replace","header","join","body","map","r","c","exportReport","type","_userReportData$total","_userReportData$verif","_userReportData$pendi","_userReportData$activ","filename","date","total_visits","completed_visits","cancelled_visits","matches","total_users","verified_users","pending_kyc","active_users","title","interested_tenants","favorites","interested_owners","property_type","owner_name","is_active","created_at","toISOString","slice","csv","blob","Blob","link","document","createElement","href","URL","createObjectURL","download","appendChild","click","removeChild","fetchAllVisits","arguments","length","Authorization","isActive","lastLoginDays","userId","listingId","tenantId","planType","className","children","includes","full_name","onClick","pendingVisits","activeListings","visitStats","scheduled_visits","tenants","owners","listingStats","total_listings","active_listings","parseFloat","avg_price","apartments","houses","recentActivity","activity","index","activity_type","description","timestamp","listing","primary_photo","src","alt","bedrooms","visit_count","listing_id","visit","listing_photo","listing_title","listing_location","visit_datetime","tenant_name","visit_notes","visit_id","value","onChange","e","_objectSpread","target","tenant_phone","owner_phone","toLocaleDateString","toLocaleTimeString","tenant_decision","owner_decision","isOpen","onClose","mode","hideFilters","onReportSelect","onApplyFilters","f","onExport","reportType","onFilterChange"],"sources":["/home/anonymous/Downloads/no-broker-kathmandu/frontend/src/pages/StaffDashboardPage.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport { RootState } from '../store/store';\nimport { \n  Users, \n  Home, \n  MessageSquare, \n  Calendar, \n  TrendingUp,\n  CheckCircle,\n  AlertCircle,\n  Clock,\n  Eye,\n  BarChart3,\n  FileText,\n  UserCheck,\n  Building,\n  MapPin,\n  Phone,\n  Mail,\n  DollarSign\n} from 'lucide-react';\nimport { getImageUrl } from '../services/config';\nimport ReportsSidepane from '../components/reports/ReportsSidepane';\nimport ReportViewer from '../components/reports/ReportViewer';\nimport AdsManagement from '../components/ads/AdsManagement';\n\ninterface DashboardStats {\n  todayListings: number;\n  todayVisits: number;\n  pendingVisits: number;\n  activeListings: number;\n  usersByRole: Array<{ role: string; count: string }>;\n  recentActivity: Array<{\n    type: string;\n    description: string;\n    timestamp: string;\n    activity_type: string;\n  }>;\n  visitStats: {\n    total_visits: string;\n    scheduled_visits: string;\n    completed_visits: string;\n    cancelled_visits: string;\n    interested_tenants: string;\n    interested_owners: string;\n    matches: string;\n  };\n  listingStats: {\n    total_listings: string;\n    active_listings: string;\n    inactive_listings: string;\n    avg_price: string;\n    apartments: string;\n    houses: string;\n    rooms: string;\n  };\n  userStats: {\n    total_users: string;\n    tenants: string;\n    owners: string;\n    staff: string;\n    admins: string;\n    verified_users: string;\n    pending_kyc: string;\n  };\n}\n\ninterface TodayListing {\n  listing_id: string;\n  title: string;\n  location: string;\n  price: number;\n  bedrooms: number;\n  bathrooms: number;\n  property_type: string;\n  owner_name: string;\n  owner_phone: string;\n  owner_email: string;\n  primary_photo: string;\n  visit_count: string;\n  created_at: string;\n}\n\ninterface TodayVisit {\n  visit_id: string;\n  listing_id: string;\n  tenant_id: string;\n  visit_datetime: string;\n  status: string;\n  listing_title: string;\n  listing_location: string;\n  listing_price: number;\n  tenant_name: string;\n  tenant_phone: string;\n  tenant_email: string;\n  owner_name: string;\n  owner_phone: string;\n  owner_email: string;\n  listing_photo: string;\n  visit_notes: string;\n}\n\nconst StaffDashboardPage: React.FC = () => {\n  const { user } = useSelector((state: RootState) => state.auth);\n  const [stats, setStats] = useState<DashboardStats | null>(null);\n  const [todayListings, setTodayListings] = useState<TodayListing[]>([]);\n  const [todayVisits, setTodayVisits] = useState<TodayVisit[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [activeTab, setActiveTab] = useState('overview');\n  \n  // Report states\n  const [visitReportData, setVisitReportData] = useState<any[]>([]);\n  const [userReportData, setUserReportData] = useState<any>(null);\n  const [listingReportData, setListingReportData] = useState<any[]>([]);\n  const [engagementReportData, setEngagementReportData] = useState<any[]>([]);\n  \n  // Filter states\n  const [visitFilters, setVisitFilters] = useState({\n    dateFrom: '',\n    dateTo: '',\n    status: '',\n    propertyType: ''\n  });\n  \n  const [userFilters, setUserFilters] = useState({\n    role: '',\n    kycStatus: '',\n    dateRange: '30'\n  });\n  \n  const [listingFilters, setListingFilters] = useState({\n    propertyType: '',\n    priceRange: '',\n    status: '',\n    dateRange: '30'\n  });\n\n  // Visit management states\n  const [allVisits, setAllVisits] = useState<any[]>([]);\n  const [allVisitsLoading, setAllVisitsLoading] = useState(false);\n  const [visitManagementFilters, setVisitManagementFilters] = useState({\n    status: '',\n    dateFrom: '',\n    dateTo: ''\n  });\n\n  // All listings report states\n  const [allListingsReportData, setAllListingsReportData] = useState<any[]>([]);\n  const [allListingsFilters, setAllListingsFilters] = useState({\n    propertyType: '',\n    priceRange: '',\n    status: '',\n    location: '',\n    owner: ''\n  });\n\n  // Report navigation state\n  const [activeReport, setActiveReport] = useState('visits');\n  const [reportFilters, setReportFilters] = useState<any>({\n    dateFrom: '',\n    dateTo: '',\n    status: '',\n    propertyType: '',\n    priceRange: '',\n    location: '',\n    owner: '',\n    role: '',\n    kycStatus: '',\n    dateRange: '30'\n  });\n  const [isReportsPaneOpen, setIsReportsPaneOpen] = useState(false);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [itemsPerPage, setItemsPerPage] = useState(20);\n  \n  // Ads Management (no ad display for staff)\n  const [showAdsManagement, setShowAdsManagement] = useState(false);\n\n  useEffect(() => {\n    fetchStaffData();\n  }, []);\n\n  // No ad tracking for staff\n\n  const fetchStaffData = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      const headers = {\n        'Authorization': `Bearer ${token}`,\n        'Content-Type': 'application/json'\n      };\n\n      // Fetch dashboard stats\n      const statsResponse = await fetch('http://localhost:5000/api/staff/dashboard-stats', { headers });\n      const statsData = await statsResponse.json();\n      setStats(statsData);\n\n      // Fetch today's listings\n      const listingsResponse = await fetch('http://localhost:5000/api/staff/today-listings', { headers });\n      const listingsData = await listingsResponse.json();\n      setTodayListings(listingsData.listings);\n\n      // Fetch today's visits\n      const visitsResponse = await fetch('http://localhost:5000/api/staff/today-visits', { headers });\n      const visitsData = await visitsResponse.json();\n      setTodayVisits(visitsData.visits);\n\n      setLoading(false);\n    } catch (error) {\n      console.error('Error fetching staff data:', error);\n      setLoading(false);\n    }\n  };\n\n  const formatPrice = (price: number) => {\n    return new Intl.NumberFormat('en-IN', {\n      style: 'currency',\n      currency: 'NPR',\n      minimumFractionDigits: 0,\n    }).format(price);\n  };\n\n  const formatDateTime = (dateTime: string) => {\n    return new Date(dateTime).toLocaleString();\n  };\n\n  // Report functions\n  const applyReportFilters = async (filters: any) => {\n    setReportFilters(filters);\n    setCurrentPage(1);\n    \n    try {\n      switch (activeReport) {\n        case 'visits':\n          setVisitFilters({\n            dateFrom: filters.dateFrom || '',\n            dateTo: filters.dateTo || '',\n            status: filters.status || '',\n            propertyType: filters.propertyType || ''\n          });\n          await fetchVisitReport();\n          break;\n        case 'users':\n          setUserFilters({\n            role: filters.role || '',\n            kycStatus: filters.kycStatus || '',\n            dateRange: filters.dateRange || '30'\n          });\n          await fetchUserReport();\n          break;\n        case 'listings':\n          setListingFilters({\n            propertyType: filters.propertyType || '',\n            priceRange: filters.priceRange || '',\n            status: filters.status || '',\n            dateRange: filters.dateRange || '30'\n          });\n          await fetchListingReport();\n          break;\n        case 'engagement':\n        case 'allListings':\n          setAllListingsFilters({\n            propertyType: filters.propertyType || '',\n            priceRange: filters.priceRange || '',\n            status: filters.status || '',\n            location: filters.location || '',\n            owner: filters.owner || ''\n          });\n          await fetchAllListingsReport();\n          break;\n        case 'userRegistrations':\n          await fetchUserRegistrationsReport(filters);\n          break;\n        case 'userActivity':\n          await fetchUserActivityReport(filters);\n          break;\n        case 'pricePreferences':\n          await fetchPricePreferencesReport(filters);\n          break;\n        case 'userFavorites':\n          await fetchUserFavoritesReport(filters);\n          break;\n        case 'favoritesByTenant':\n          await fetchFavoritesByTenantReport(filters);\n          break;\n        case 'matches':\n          await fetchMatchesReport(filters);\n          break;\n        case 'revenue':\n          await fetchRevenueReport(filters);\n          break;\n        case 'subscriptions':\n          await fetchSubscriptionsReport(filters);\n          break;\n        default:\n          console.log('Unknown report type:', activeReport);\n      }\n    } catch (error) {\n      console.error('Error applying filters:', error);\n    }\n  };\n  const fetchVisitReport = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      const params = new URLSearchParams();\n      if (visitFilters.dateFrom) params.append('date_from', visitFilters.dateFrom);\n      if (visitFilters.dateTo) params.append('date_to', visitFilters.dateTo);\n      if (visitFilters.status) params.append('status', visitFilters.status);\n      if (visitFilters.propertyType) params.append('property_type', visitFilters.propertyType);\n\n      const response = await fetch(`http://localhost:5000/api/staff/reports?${params.toString()}`, {\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        }\n      });\n\n      if (response.ok) {\n        const data = await response.json();\n        setVisitReportData(data.visitTrends || []);\n      }\n    } catch (error) {\n      console.error('Error fetching visit report:', error);\n    }\n  };\n\n  const fetchUserReport = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      const params = new URLSearchParams();\n      if (userFilters.role) params.append('role', userFilters.role);\n      if (userFilters.kycStatus) params.append('kyc_status', userFilters.kycStatus);\n      params.append('period', userFilters.dateRange);\n\n      const response = await fetch(`http://localhost:5000/api/staff/reports?${params.toString()}`, {\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        }\n      });\n\n      if (response.ok) {\n        const data = await response.json();\n        setUserReportData(data.userStats || {});\n      }\n    } catch (error) {\n      console.error('Error fetching user report:', error);\n    }\n  };\n\n  const fetchListingReport = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      const params = new URLSearchParams();\n      if (listingFilters.propertyType) params.append('property_type', listingFilters.propertyType);\n      if (listingFilters.priceRange) params.append('price_range', listingFilters.priceRange);\n      if (listingFilters.status) params.append('status', listingFilters.status);\n      params.append('period', listingFilters.dateRange);\n\n      const response = await fetch(`http://localhost:5000/api/staff/reports?${params.toString()}`, {\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        }\n      });\n\n      if (response.ok) {\n        const data = await response.json();\n        setListingReportData(data.listingPerformance || []);\n        setEngagementReportData(data.listingPerformance || []);\n      }\n    } catch (error) {\n      console.error('Error fetching listing report:', error);\n    }\n  };\n\n  // CSV utility for consistent exports\n  const toCsv = (rows: Array<Record<string, any>>, columns: string[]) => {\n    const escapeCell = (val: any) => {\n      if (val === null || val === undefined) return '';\n      const s = String(val);\n      if (/[\",\\n]/.test(s)) {\n        return '\"' + s.replace(/\"/g, '\"\"') + '\"';\n      }\n      return s;\n    };\n    const header = columns.join(',');\n    const body = rows.map(r => columns.map(c => escapeCell(r[c])).join(',')).join('\\n');\n    return header + '\\n' + body + '\\n';\n  };\n\n  // Export functions (consistent columns and formatting)\n  const exportReport = (type: string) => {\n    let filename = '';\n    let columns: string[] = [];\n    let rows: Array<Record<string, any>> = [];\n\n    switch (type) {\n      case 'visits':\n        filename = 'visit_statistics.csv';\n        columns = ['Date', 'Total Visits', 'Completed', 'Cancelled', 'Matches'];\n        rows = (visitReportData || []).map((r: any) => ({\n          'Date': r.date,\n          'Total Visits': r.total_visits,\n          'Completed': r.completed_visits,\n          'Cancelled': r.cancelled_visits,\n          'Matches': r.matches\n        }));\n        break;\n      case 'users':\n        filename = 'user_statistics.csv';\n        columns = ['Total Users', 'Verified Users', 'Pending KYC', 'Active Users'];\n        rows = [{\n          'Total Users': userReportData?.total_users ?? 0,\n          'Verified Users': userReportData?.verified_users ?? 0,\n          'Pending KYC': userReportData?.pending_kyc ?? 0,\n          'Active Users': userReportData?.active_users ?? 0\n        }];\n        break;\n      case 'listings':\n        filename = 'listing_performance.csv';\n        columns = ['Property', 'Location', 'Price', 'Total Visits', 'Interested Tenants', 'Matches'];\n        rows = (listingReportData || []).map((r: any) => ({\n          'Property': r.title,\n          'Location': r.location,\n          'Price': r.price,\n          'Total Visits': r.total_visits,\n          'Interested Tenants': r.interested_tenants,\n          'Matches': r.matches\n        }));\n        break;\n      case 'engagement':\n        filename = 'property_engagement.csv';\n        columns = ['Property', 'Location', 'Price', 'Favorites', 'Interested Tenants', 'Interested Owners', 'Matches'];\n        rows = (engagementReportData || []).map((r: any) => ({\n          'Property': r.title,\n          'Location': r.location,\n          'Price': r.price,\n          'Favorites': r.favorites || 0,\n          'Interested Tenants': r.interested_tenants || 0,\n          'Interested Owners': r.interested_owners || 0,\n          'Matches': r.matches || 0\n        }));\n        break;\n      case 'allListings':\n        filename = 'all_listings.csv';\n        columns = ['Property', 'Location', 'Type', 'Price', 'Owner', 'Status', 'Created', 'Total Visits'];\n        rows = (allListingsReportData || []).map((r: any) => ({\n          'Property': r.title,\n          'Location': r.location,\n          'Type': r.property_type,\n          'Price': r.price,\n          'Owner': r.owner_name,\n          'Status': r.is_active ? 'Active' : 'Inactive',\n          'Created': new Date(r.created_at).toISOString().slice(0, 10),\n          'Total Visits': r.total_visits || 0\n        }));\n        break;\n      default:\n        return;\n    }\n\n    const csv = toCsv(rows, columns);\n    const blob = new Blob([csv], { type: 'text/csv;charset=utf-8;' });\n    const link = document.createElement('a');\n    link.href = URL.createObjectURL(blob);\n    link.download = filename;\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n  };\n\n  // Fetch all visits for management\n  const fetchAllVisits = async () => {\n    try {\n      setAllVisitsLoading(true);\n      const token = localStorage.getItem('token');\n      const params = new URLSearchParams();\n      \n      if (visitManagementFilters.status) {\n        params.append('status', visitManagementFilters.status);\n      }\n      if (visitManagementFilters.dateFrom) {\n        params.append('date_from', visitManagementFilters.dateFrom);\n      }\n      if (visitManagementFilters.dateTo) {\n        params.append('date_to', visitManagementFilters.dateTo);\n      }\n\n      const response = await fetch(`http://localhost:5000/api/staff/all-visits?${params.toString()}`, {\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        }\n      });\n\n      if (response.ok) {\n        const data = await response.json();\n        setAllVisits(data.visits || []);\n      }\n    } catch (error) {\n      console.error('Error fetching all visits:', error);\n    } finally {\n      setAllVisitsLoading(false);\n    }\n  };\n\n  // Fetch all listings report\n  const fetchAllListingsReport = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      const params = new URLSearchParams();\n      \n      if (allListingsFilters.propertyType) {\n        params.append('property_type', allListingsFilters.propertyType);\n      }\n      if (allListingsFilters.priceRange) {\n        params.append('price_range', allListingsFilters.priceRange);\n      }\n      if (allListingsFilters.status) {\n        params.append('status', allListingsFilters.status);\n      }\n      if (allListingsFilters.location) {\n        params.append('location', allListingsFilters.location);\n      }\n      if (allListingsFilters.owner) {\n        params.append('owner', allListingsFilters.owner);\n      }\n\n      const response = await fetch(`http://localhost:5000/api/staff/all-listings?${params.toString()}`, {\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        }\n      });\n\n      if (response.ok) {\n        const data = await response.json();\n        setAllListingsReportData(data.listings || []);\n      }\n    } catch (error) {\n      console.error('Error fetching all listings report:', error);\n    }\n  };\n\n  // New report fetching functions\n  const fetchUserRegistrationsReport = async (filters: any = {}) => {\n    try {\n      const params = new URLSearchParams();\n      if (filters.dateFrom) params.append('dateFrom', filters.dateFrom);\n      if (filters.dateTo) params.append('dateTo', filters.dateTo);\n      if (filters.role) params.append('role', filters.role);\n\n      const response = await fetch(`http://localhost:5000/api/staff/reports/user-registrations?${params}`, {\n        headers: { Authorization: `Bearer ${localStorage.getItem('token')}` }\n      });\n      \n      if (response.ok) {\n        const data = await response.json();\n        setUserReportData(data);\n      }\n    } catch (error) {\n      console.error('Error fetching user registrations report:', error);\n    }\n  };\n\n  const fetchUserActivityReport = async (filters: any = {}) => {\n    try {\n      const params = new URLSearchParams();\n      if (filters.role) params.append('role', filters.role);\n      if (filters.isActive !== undefined) params.append('isActive', filters.isActive);\n      if (filters.lastLoginDays) params.append('lastLoginDays', filters.lastLoginDays);\n\n      const response = await fetch(`http://localhost:5000/api/staff/reports/user-activity?${params}`, {\n        headers: { Authorization: `Bearer ${localStorage.getItem('token')}` }\n      });\n      \n      if (response.ok) {\n        const data = await response.json();\n        setUserReportData(data);\n      }\n    } catch (error) {\n      console.error('Error fetching user activity report:', error);\n    }\n  };\n\n  const fetchPricePreferencesReport = async (filters: any = {}) => {\n    try {\n      const params = new URLSearchParams();\n      if (filters.dateFrom) params.append('dateFrom', filters.dateFrom);\n      if (filters.dateTo) params.append('dateTo', filters.dateTo);\n\n      const response = await fetch(`http://localhost:5000/api/staff/reports/price-preferences?${params}`, {\n        headers: { Authorization: `Bearer ${localStorage.getItem('token')}` }\n      });\n      \n      if (response.ok) {\n        const data = await response.json();\n        setListingReportData(data);\n      }\n    } catch (error) {\n      console.error('Error fetching price preferences report:', error);\n    }\n  };\n\n  const fetchUserFavoritesReport = async (filters: any = {}) => {\n    try {\n      const params = new URLSearchParams();\n      if (filters.dateFrom) params.append('dateFrom', filters.dateFrom);\n      if (filters.dateTo) params.append('dateTo', filters.dateTo);\n      if (filters.userId) params.append('userId', filters.userId);\n      if (filters.listingId) params.append('listingId', filters.listingId);\n\n      const response = await fetch(`http://localhost:5000/api/staff/reports/user-favorites?${params}`, {\n        headers: { Authorization: `Bearer ${localStorage.getItem('token')}` }\n      });\n      \n      if (response.ok) {\n        const data = await response.json();\n        setListingReportData(data);\n      }\n    } catch (error) {\n      console.error('Error fetching user favorites report:', error);\n    }\n  };\n\n  const fetchFavoritesByTenantReport = async (filters: any = {}) => {\n    try {\n      const params = new URLSearchParams();\n      if (filters.dateFrom) params.append('dateFrom', filters.dateFrom);\n      if (filters.dateTo) params.append('dateTo', filters.dateTo);\n      if (filters.tenantId) params.append('tenantId', filters.tenantId);\n\n      const response = await fetch(`http://localhost:5000/api/staff/reports/favorites-by-tenant?${params}`, {\n        headers: { Authorization: `Bearer ${localStorage.getItem('token')}` }\n      });\n      \n      if (response.ok) {\n        const data = await response.json();\n        setListingReportData(data);\n      }\n    } catch (error) {\n      console.error('Error fetching favorites by tenant report:', error);\n    }\n  };\n\n  const fetchMatchesReport = async (filters: any = {}) => {\n    try {\n      const params = new URLSearchParams();\n      if (filters.dateFrom) params.append('dateFrom', filters.dateFrom);\n      if (filters.dateTo) params.append('dateTo', filters.dateTo);\n      if (filters.status) params.append('status', filters.status);\n\n      const response = await fetch(`http://localhost:5000/api/staff/reports/matches?${params}`, {\n        headers: { Authorization: `Bearer ${localStorage.getItem('token')}` }\n      });\n      \n      if (response.ok) {\n        const data = await response.json();\n        setListingReportData(data);\n      }\n    } catch (error) {\n      console.error('Error fetching matches report:', error);\n    }\n  };\n\n  const fetchRevenueReport = async (filters: any = {}) => {\n    try {\n      const params = new URLSearchParams();\n      if (filters.dateFrom) params.append('dateFrom', filters.dateFrom);\n      if (filters.dateTo) params.append('dateTo', filters.dateTo);\n\n      const response = await fetch(`http://localhost:5000/api/staff/reports/revenue?${params}`, {\n        headers: { Authorization: `Bearer ${localStorage.getItem('token')}` }\n      });\n      \n      if (response.ok) {\n        const data = await response.json();\n        setListingReportData(data);\n      }\n    } catch (error) {\n      console.error('Error fetching revenue report:', error);\n    }\n  };\n\n  const fetchSubscriptionsReport = async (filters: any = {}) => {\n    try {\n      const params = new URLSearchParams();\n      if (filters.status) params.append('status', filters.status);\n      if (filters.planType) params.append('planType', filters.planType);\n\n      const response = await fetch(`http://localhost:5000/api/staff/reports/subscriptions?${params}`, {\n        headers: { Authorization: `Bearer ${localStorage.getItem('token')}` }\n      });\n      \n      if (response.ok) {\n        const data = await response.json();\n        setListingReportData(data);\n      }\n    } catch (error) {\n      console.error('Error fetching subscriptions report:', error);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex justify-center items-center\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"></div>\n      </div>\n    );\n  }\n\n  if (!user || !['staff', 'admin'].includes(user.role)) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <h1 className=\"text-2xl font-bold text-gray-900 mb-4\">Access Denied</h1>\n          <p className=\"text-gray-600\">This dashboard is only for staff and admin users.</p>\n        </div>\n      </div>\n    );\n  }\n\n  // No ad click handling for staff\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* Header */}\n      <div className=\"bg-white shadow-sm border-b\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <h1 className=\"text-2xl font-bold text-gray-900\">Staff Dashboard</h1>\n              <p className=\"text-gray-600\">Welcome back, {user?.full_name}</p>\n            </div>\n            <div className=\"flex items-center space-x-4\">\n              <span className=\"px-3 py-1 bg-blue-100 text-blue-800 text-sm font-medium rounded-full\">\n                {user.role === 'admin' ? 'Admin' : 'Staff'}\n              </span>\n              <button\n                onClick={() => setShowAdsManagement(true)}\n                className=\"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors flex items-center space-x-2\"\n              >\n                <Eye className=\"w-4 h-4\" />\n                <span>Manage Ads</span>\n              </button>\n              <button\n                onClick={fetchStaffData}\n                className=\"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors\"\n              >\n                Refresh Data\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        {/* Tabs */}\n        <div className=\"mb-6\">\n          <nav className=\"flex space-x-8\">\n            <button\n              onClick={() => setActiveTab('overview')}\n              className={`py-2 px-1 border-b-2 font-medium text-sm ${\n                activeTab === 'overview'\n                  ? 'border-blue-500 text-blue-600'\n                  : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\n              }`}\n            >\n              Overview\n            </button>\n            <button\n              onClick={() => setActiveTab('today')}\n              className={`py-2 px-1 border-b-2 font-medium text-sm ${\n                activeTab === 'today'\n                  ? 'border-blue-500 text-blue-600'\n                  : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\n              }`}\n            >\n              Today's Activity\n            </button>\n            <button\n              onClick={() => setActiveTab('visits')}\n              className={`py-2 px-1 border-b-2 font-medium text-sm ${\n                activeTab === 'visits'\n                  ? 'border-blue-500 text-blue-600'\n                  : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\n              }`}\n            >\n              Visit Management\n            </button>\n            <button\n              onClick={() => setActiveTab('reports')}\n              className={`py-2 px-1 border-b-2 font-medium text-sm ${\n                activeTab === 'reports'\n                  ? 'border-blue-500 text-blue-600'\n                  : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\n              }`}\n            >\n              Reports & Analytics\n            </button>\n          </nav>\n        </div>\n\n        {/* Overview Tab */}\n        {activeTab === 'overview' && stats && (\n          <div className=\"space-y-8\">\n            {/* Key Stats Grid */}\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\n          <div className=\"bg-white rounded-lg shadow-sm p-6\">\n            <div className=\"flex items-center\">\n              <div className=\"p-2 bg-blue-100 rounded-lg\">\n                <Home className=\"w-6 h-6 text-blue-600\" />\n              </div>\n              <div className=\"ml-4\">\n                    <p className=\"text-sm font-medium text-gray-600\">Today's Listings</p>\n                    <p className=\"text-2xl font-bold text-gray-900\">{stats.todayListings}</p>\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"bg-white rounded-lg shadow-sm p-6\">\n                <div className=\"flex items-center\">\n                  <div className=\"p-2 bg-green-100 rounded-lg\">\n                    <Calendar className=\"w-6 h-6 text-green-600\" />\n                  </div>\n                  <div className=\"ml-4\">\n                    <p className=\"text-sm font-medium text-gray-600\">Today's Visits</p>\n                    <p className=\"text-2xl font-bold text-gray-900\">{stats.todayVisits}</p>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"bg-white rounded-lg shadow-sm p-6\">\n            <div className=\"flex items-center\">\n              <div className=\"p-2 bg-yellow-100 rounded-lg\">\n                <Clock className=\"w-6 h-6 text-yellow-600\" />\n              </div>\n              <div className=\"ml-4\">\n                <p className=\"text-sm font-medium text-gray-600\">Pending Visits</p>\n                <p className=\"text-2xl font-bold text-gray-900\">{stats.pendingVisits}</p>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"bg-white rounded-lg shadow-sm p-6\">\n            <div className=\"flex items-center\">\n                  <div className=\"p-2 bg-purple-100 rounded-lg\">\n                    <Building className=\"w-6 h-6 text-purple-600\" />\n              </div>\n              <div className=\"ml-4\">\n                    <p className=\"text-sm font-medium text-gray-600\">Active Listings</p>\n                    <p className=\"text-2xl font-bold text-gray-900\">{stats.activeListings}</p>\n                  </div>\n              </div>\n            </div>\n          </div>\n\n            {/* Detailed Stats */}\n            <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n              {/* Visit Statistics */}\n          <div className=\"bg-white rounded-lg shadow-sm p-6\">\n                <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Visit Statistics</h3>\n                <div className=\"space-y-3\">\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-gray-600\">Total Visits</span>\n                    <span className=\"font-medium\">{stats.visitStats.total_visits}</span>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-gray-600\">Scheduled</span>\n                    <span className=\"font-medium text-yellow-600\">{stats.visitStats.scheduled_visits}</span>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-gray-600\">Completed</span>\n                    <span className=\"font-medium text-green-600\">{stats.visitStats.completed_visits}</span>\n              </div>\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-gray-600\">Cancelled</span>\n                    <span className=\"font-medium text-red-600\">{stats.visitStats.cancelled_visits}</span>\n              </div>\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-gray-600\">Matches</span>\n                    <span className=\"font-medium text-blue-600\">{stats.visitStats.matches}</span>\n            </div>\n          </div>\n        </div>\n\n              {/* User Statistics */}\n              <div className=\"bg-white rounded-lg shadow-sm p-6\">\n                <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">User Statistics</h3>\n                <div className=\"space-y-3\">\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-gray-600\">Total Users</span>\n                    <span className=\"font-medium\">{stats.userStats.total_users}</span>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-gray-600\">Tenants</span>\n                    <span className=\"font-medium text-blue-600\">{stats.userStats.tenants}</span>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-gray-600\">Owners</span>\n                    <span className=\"font-medium text-green-600\">{stats.userStats.owners}</span>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-gray-600\">Verified</span>\n                    <span className=\"font-medium text-purple-600\">{stats.userStats.verified_users}</span>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-gray-600\">Pending KYC</span>\n                    <span className=\"font-medium text-yellow-600\">{stats.userStats.pending_kyc}</span>\n                  </div>\n                </div>\n              </div>\n\n              {/* Listing Statistics */}\n              <div className=\"bg-white rounded-lg shadow-sm p-6\">\n                <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Listing Statistics</h3>\n                <div className=\"space-y-3\">\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-gray-600\">Total Listings</span>\n                    <span className=\"font-medium\">{stats.listingStats.total_listings}</span>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-gray-600\">Active</span>\n                    <span className=\"font-medium text-green-600\">{stats.listingStats.active_listings}</span>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-gray-600\">Avg Price</span>\n                    <span className=\"font-medium\">{formatPrice(parseFloat(stats.listingStats.avg_price) || 0)}</span>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-gray-600\">Apartments</span>\n                    <span className=\"font-medium\">{stats.listingStats.apartments}</span>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-gray-600\">Houses</span>\n                    <span className=\"font-medium\">{stats.listingStats.houses}</span>\n                  </div>\n                </div>\n          </div>\n        </div>\n\n        {/* Recent Activity */}\n        <div className=\"bg-white rounded-lg shadow-sm\">\n          <div className=\"px-6 py-4 border-b border-gray-200\">\n            <h2 className=\"text-lg font-semibold text-gray-900\">Recent Activity</h2>\n          </div>\n          <div className=\"p-6\">\n            <div className=\"space-y-4\">\n                  {stats.recentActivity.slice(0, 10).map((activity, index) => (\n                    <div key={index} className=\"flex items-center space-x-3\">\n                      <div className={`p-2 rounded-full ${\n                        activity.activity_type === 'new_listing' ? 'bg-green-100' : 'bg-blue-100'\n                      }`}>\n                        {activity.activity_type === 'new_listing' ? (\n                          <Home className=\"w-4 h-4 text-green-600\" />\n                        ) : (\n                          <Calendar className=\"w-4 h-4 text-blue-600\" />\n                        )}\n                </div>\n                <div>\n                        <p className=\"text-sm font-medium text-gray-900\">{activity.description}</p>\n                        <p className=\"text-xs text-gray-500\">{formatDateTime(activity.timestamp)}</p>\n                </div>\n              </div>\n                  ))}\n                </div>\n                </div>\n                </div>\n              </div>\n        )}\n\n        {/* Today's Activity Tab */}\n        {activeTab === 'today' && (\n          <div className=\"space-y-8\">\n            {/* Today's Listings */}\n            <div className=\"bg-white rounded-lg shadow-sm\">\n              <div className=\"px-6 py-4 border-b border-gray-200\">\n                <h2 className=\"text-lg font-semibold text-gray-900\">Today's New Listings</h2>\n                </div>\n              <div className=\"p-6\">\n                {todayListings.length === 0 ? (\n                  <p className=\"text-gray-500 text-center py-8\">No new listings today</p>\n                ) : (\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n                    {todayListings.map((listing) => (\n                      <div key={listing.listing_id} className=\"border border-gray-200 rounded-lg p-4\">\n                        <div className=\"flex items-start space-x-4\">\n                          {listing.primary_photo && (\n                            <img\n                              src={getImageUrl(listing.primary_photo)}\n                              alt={listing.title}\n                              className=\"w-16 h-16 object-cover rounded-lg\"\n                            />\n                          )}\n                          <div className=\"flex-1\">\n                            <h3 className=\"font-medium text-gray-900\">{listing.title}</h3>\n                            <p className=\"text-sm text-gray-600 flex items-center\">\n                              <MapPin className=\"w-4 h-4 mr-1\" />\n                              {listing.location}\n                            </p>\n                            <p className=\"text-sm text-gray-600\">{listing.bedrooms}BHK • {listing.property_type}</p>\n                            <p className=\"text-lg font-semibold text-blue-600\">{formatPrice(listing.price)}</p>\n                            <div className=\"flex items-center justify-between mt-2\">\n                              <p className=\"text-xs text-gray-500\">Owner: {listing.owner_name}</p>\n                              <p className=\"text-xs text-gray-500\">{listing.visit_count} visits</p>\n                </div>\n              </div>\n            </div>\n          </div>\n                    ))}\n                  </div>\n                )}\n              </div>\n            </div>\n\n            {/* Today's Visits */}\n            <div className=\"bg-white rounded-lg shadow-sm\">\n              <div className=\"px-6 py-4 border-b border-gray-200\">\n                <h2 className=\"text-lg font-semibold text-gray-900\">Today's Visits</h2>\n              </div>\n              <div className=\"p-6\">\n                {todayVisits.length === 0 ? (\n                  <p className=\"text-gray-500 text-center py-8\">No visits scheduled for today</p>\n                ) : (\n                  <div className=\"space-y-4\">\n                    {todayVisits.map((visit) => (\n                      <div key={visit.visit_id} className=\"border border-gray-200 rounded-lg p-4\">\n                        <div className=\"flex items-start space-x-4\">\n                          {visit.listing_photo && (\n                            <img\n                              src={getImageUrl(visit.listing_photo)}\n                              alt={visit.listing_title}\n                              className=\"w-16 h-16 object-cover rounded-lg\"\n                            />\n                          )}\n                          <div className=\"flex-1\">\n                            <h3 className=\"font-medium text-gray-900\">{visit.listing_title}</h3>\n                            <p className=\"text-sm text-gray-600 flex items-center\">\n                              <MapPin className=\"w-4 h-4 mr-1\" />\n                              {visit.listing_location}\n                            </p>\n                            <p className=\"text-sm text-gray-600\">\n                              <Calendar className=\"w-4 h-4 mr-1 inline\" />\n                              {formatDateTime(visit.visit_datetime)}\n                            </p>\n                            <div className=\"flex items-center justify-between mt-2\">\n                              <div>\n                                <p className=\"text-sm text-gray-600\">Tenant: {visit.tenant_name}</p>\n                                <p className=\"text-sm text-gray-600\">Owner: {visit.owner_name}</p>\n                              </div>\n                              <span className={`px-2 py-1 text-xs rounded-full ${\n                                visit.status === 'scheduled' ? 'bg-yellow-100 text-yellow-800' :\n                                visit.status === 'completed' ? 'bg-green-100 text-green-800' :\n                                'bg-red-100 text-red-800'\n                              }`}>\n                                {visit.status}\n                              </span>\n                            </div>\n                            {visit.visit_notes && (\n                              <p className=\"text-sm text-gray-500 mt-2 italic\">\"{visit.visit_notes}\"</p>\n                            )}\n                          </div>\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Visit Management Tab */}\n        {activeTab === 'visits' && (\n          <div className=\"bg-white rounded-lg shadow-sm\">\n            <div className=\"px-6 py-4 border-b border-gray-200\">\n              <div className=\"flex items-center justify-between\">\n                <h2 className=\"text-lg font-semibold text-gray-900\">Visit Management</h2>\n                <button\n                  onClick={() => fetchAllVisits()}\n                  className=\"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors\"\n                >\n                  Refresh\n                </button>\n              </div>\n            </div>\n            <div className=\"p-6\">\n              {/* Visit Filters */}\n              <div className=\"mb-6\">\n                <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">Status</label>\n                    <select\n                      value={visitManagementFilters.status}\n                      onChange={(e) => setVisitManagementFilters({...visitManagementFilters, status: e.target.value})}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\"\n                    >\n                      <option value=\"\">All Statuses</option>\n                      <option value=\"scheduled\">Scheduled</option>\n                      <option value=\"completed\">Completed</option>\n                      <option value=\"cancelled\">Cancelled</option>\n                    </select>\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">Date From</label>\n                    <input\n                      type=\"date\"\n                      value={visitManagementFilters.dateFrom}\n                      onChange={(e) => setVisitManagementFilters({...visitManagementFilters, dateFrom: e.target.value})}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:ring-blue-500 focus:border-blue-500\"\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">Date To</label>\n                    <input\n                      type=\"date\"\n                      value={visitManagementFilters.dateTo}\n                      onChange={(e) => setVisitManagementFilters({...visitManagementFilters, dateTo: e.target.value})}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:ring-blue-500 focus:border-blue-500\"\n                    />\n                  </div>\n                  <div className=\"flex items-end\">\n                    <button\n                      onClick={() => fetchAllVisits()}\n                      className=\"w-full px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors\"\n                    >\n                      Apply Filters\n                    </button>\n                  </div>\n                </div>\n              </div>\n\n              {/* Visits Table */}\n              {allVisitsLoading ? (\n                <div className=\"flex justify-center items-center py-8\">\n                  <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\n                </div>\n              ) : allVisits.length === 0 ? (\n                <p className=\"text-gray-500 text-center py-8\">No visits found matching your criteria.</p>\n              ) : (\n                <div className=\"overflow-x-auto\">\n                  <table className=\"min-w-full divide-y divide-gray-200\">\n                    <thead className=\"bg-gray-50\">\n                      <tr>\n                        <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Property</th>\n                        <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Tenant</th>\n                        <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Owner</th>\n                        <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Date & Time</th>\n                        <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Status</th>\n                        <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Decisions</th>\n                      </tr>\n                    </thead>\n                    <tbody className=\"bg-white divide-y divide-gray-200\">\n                      {allVisits.map((visit) => (\n                        <tr key={visit.visit_id}>\n                          <td className=\"px-6 py-4 whitespace-nowrap\">\n                            <div className=\"text-sm font-medium text-gray-900\">{visit.listing_title}</div>\n                            <div className=\"text-sm text-gray-500\">{visit.listing_location}</div>\n                          </td>\n                          <td className=\"px-6 py-4 whitespace-nowrap\">\n                            <div className=\"text-sm text-gray-900\">{visit.tenant_name}</div>\n                            <div className=\"text-sm text-gray-500\">{visit.tenant_phone}</div>\n                          </td>\n                          <td className=\"px-6 py-4 whitespace-nowrap\">\n                            <div className=\"text-sm text-gray-900\">{visit.owner_name}</div>\n                            <div className=\"text-sm text-gray-500\">{visit.owner_phone}</div>\n                          </td>\n                          <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                            {new Date(visit.visit_datetime).toLocaleDateString()} at{' '}\n                            {new Date(visit.visit_datetime).toLocaleTimeString()}\n                          </td>\n                          <td className=\"px-6 py-4 whitespace-nowrap\">\n                            <span className={`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${\n                              visit.status === 'completed' ? 'bg-green-100 text-green-800' :\n                              visit.status === 'scheduled' ? 'bg-yellow-100 text-yellow-800' :\n                              'bg-red-100 text-red-800'\n                            }`}>\n                              {visit.status}\n                            </span>\n                          </td>\n                          <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                            <div className=\"space-y-1\">\n                              {visit.tenant_decision && (\n                                <div>Tenant: <span className={`font-medium ${\n                                  visit.tenant_decision === 'interested' ? 'text-green-600' :\n                                  visit.tenant_decision === 'not_interested' ? 'text-red-600' :\n                                  'text-yellow-600'\n                                }`}>{visit.tenant_decision.replace('_', ' ')}</span></div>\n                              )}\n                              {visit.owner_decision && (\n                                <div>Owner: <span className={`font-medium ${\n                                  visit.owner_decision === 'interested' ? 'text-green-600' :\n                                  visit.owner_decision === 'not_interested' ? 'text-red-600' :\n                                  'text-yellow-600'\n                                }`}>{visit.owner_decision.replace('_', ' ')}</span></div>\n                              )}\n                              {visit.tenant_decision === 'interested' && visit.owner_decision === 'interested' && (\n                                <div className=\"text-blue-600 font-medium\">🎉 Match!</div>\n                              )}\n                            </div>\n                          </td>\n                        </tr>\n                      ))}\n                    </tbody>\n                  </table>\n                </div>\n              )}\n            </div>\n          </div>\n        )}\n\n        {/* Reports Tab */}\n        {activeTab === 'reports' && (\n          <div className=\"grid grid-cols-1 lg:grid-cols-12 gap-6\">\n            <div className=\"lg:col-span-3\">\n              <ReportsSidepane\n                isOpen={true}\n                onClose={() => {}}\n                mode=\"inline\"\n                hideFilters={true}\n                activeReport={activeReport}\n                onReportSelect={(r) => {\n                  setActiveReport(r);\n                  switch (r) {\n                    case 'visits':\n                      fetchVisitReport();\n                      break;\n                    case 'users':\n                      fetchUserReport();\n                      break;\n                    case 'listings':\n                    case 'engagement':\n                      fetchListingReport();\n                      break;\n                    case 'allListings':\n                      fetchAllListingsReport();\n                      break;\n                    case 'userRegistrations':\n                      fetchUserRegistrationsReport();\n                      break;\n                    case 'userActivity':\n                      fetchUserActivityReport();\n                      break;\n                    case 'pricePreferences':\n                      fetchPricePreferencesReport();\n                      break;\n                    case 'userFavorites':\n                      fetchUserFavoritesReport();\n                      break;\n                    case 'favoritesByTenant':\n                      fetchFavoritesByTenantReport();\n                      break;\n                    case 'matches':\n                      fetchMatchesReport();\n                      break;\n                    case 'revenue':\n                      fetchRevenueReport();\n                      break;\n                    case 'subscriptions':\n                      fetchSubscriptionsReport();\n                      break;\n                    default:\n                      console.log('Unknown report type:', r);\n                  }\n                }}\n                onApplyFilters={(f) => applyReportFilters(f)}\n                onExport={(r) => exportReport(r)}\n              />\n            </div>\n            <div className=\"lg:col-span-9 space-y-4\">\n              <div className=\"flex items-center justify-between\">\n                <h2 className=\"text-xl font-semibold text-gray-900\">\n                  {activeReport === 'visits' && 'Visit Analytics'}\n                  {activeReport === 'users' && 'User Analytics'}\n                  {activeReport === 'listings' && 'Listing Performance'}\n                  {activeReport === 'engagement' && 'Property Engagement'}\n                  {activeReport === 'allListings' && 'All Listings'}\n                </h2>\n                {/* Export lives inside viewer toolbar */}\n              </div>\n              <ReportViewer\n                reportType={activeReport}\n                data={\n                  activeReport === 'visits' ? visitReportData :\n                  activeReport === 'users' ? userReportData :\n                  activeReport === 'listings' ? listingReportData :\n                  activeReport === 'engagement' ? engagementReportData :\n                  activeReport === 'allListings' ? allListingsReportData :\n                  activeReport === 'userRegistrations' ? userReportData :\n                  activeReport === 'userActivity' ? userReportData :\n                  activeReport === 'pricePreferences' ? listingReportData :\n                  activeReport === 'userFavorites' ? listingReportData :\n                  activeReport === 'favoritesByTenant' ? listingReportData :\n                  activeReport === 'matches' ? listingReportData :\n                  activeReport === 'revenue' ? listingReportData :\n                  activeReport === 'subscriptions' ? listingReportData :\n                  []\n                }\n                filters={reportFilters}\n                onExport={(type) => exportReport(type)}\n                onFilterChange={(f) => applyReportFilters(f)}\n              />\n            </div>\n          </div>\n        )}\n      </div>\n      \n      {/* No Ad Modal for staff */}\n      \n      {/* Ads Management */}\n      <AdsManagement\n        isOpen={showAdsManagement}\n        onClose={() => setShowAdsManagement(false)}\n      />\n    </div>\n  );\n};\n\nexport default StaffDashboardPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}