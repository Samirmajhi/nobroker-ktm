{"ast":null,"code":"import React,{useEffect,useMemo,useState}from'react';import{Link,useLocation}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const FinalizePage=()=>{const location=useLocation();const params=useMemo(()=>new URLSearchParams(location.search),[location.search]);const visitId=params.get('visitId')||'';const listingId=params.get('listingId')||'';const[isPaying,setIsPaying]=useState(false);const[paid,setPaid]=useState(false);useEffect(()=>{// In a real flow, fetch visit + listing summary here to show context\n},[visitId,listingId]);const handlePay=async()=>{setIsPaying(true);// Simulate payment stub; integrate with real gateway later\nawait new Promise(r=>setTimeout(r,1500));setPaid(true);setIsPaying(false);};return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50 py-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow p-6\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-gray-900 mb-4\",children:\"Finalize Booking\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-6\",children:\"Both parties marked interest. To proceed, please pay the platform fee to secure the finalization.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4 text-sm text-gray-600\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Visit ID:\"}),\" \",visitId]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Listing ID:\"}),\" \",listingId]})]}),!paid?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between bg-gray-50 rounded p-4 mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-900 font-medium\",children:\"Platform Fee\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 text-sm\",children:\"One-time service fee\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-lg font-semibold text-gray-900\",children:\"Rs. 250\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handlePay,disabled:isPaying,className:\"w-full py-3 rounded-md text-white font-semibold \".concat(isPaying?'bg-gray-400':'bg-blue-600 hover:bg-blue-700'),children:isPaying?'Processing Payment…':'Pay and Continue'})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mx-auto w-16 h-16 rounded-full bg-green-100 flex items-center justify-center mb-4\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-8 h-8 text-green-600\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M5 13l4 4L19 7\"})})}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-900 mb-2\",children:\"Payment Successful\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-6\",children:\"We\\u2019re generating your agreement draft.\"}),/*#__PURE__*/_jsx(Link,{to:\"/messages\",className:\"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700\",children:\"Go to Messages\"})]})]})})});};export default FinalizePage;","map":{"version":3,"names":["React","useEffect","useMemo","useState","Link","useLocation","jsx","_jsx","jsxs","_jsxs","FinalizePage","location","params","URLSearchParams","search","visitId","get","listingId","isPaying","setIsPaying","paid","setPaid","handlePay","Promise","r","setTimeout","className","children","onClick","disabled","concat","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","to"],"sources":["/home/anonymous/Downloads/no-broker-kathmandu/frontend/src/pages/FinalizePage.tsx"],"sourcesContent":["import React, { useEffect, useMemo, useState } from 'react';\r\nimport { Link, useLocation } from 'react-router-dom';\r\n\r\nconst FinalizePage: React.FC = () => {\r\n  const location = useLocation();\r\n  const params = useMemo(() => new URLSearchParams(location.search), [location.search]);\r\n  const visitId = params.get('visitId') || '';\r\n  const listingId = params.get('listingId') || '';\r\n  const [isPaying, setIsPaying] = useState(false);\r\n  const [paid, setPaid] = useState(false);\r\n\r\n  useEffect(() => {\r\n    // In a real flow, fetch visit + listing summary here to show context\r\n  }, [visitId, listingId]);\r\n\r\n  const handlePay = async () => {\r\n    setIsPaying(true);\r\n    // Simulate payment stub; integrate with real gateway later\r\n    await new Promise((r) => setTimeout(r, 1500));\r\n    setPaid(true);\r\n    setIsPaying(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50 py-12\">\r\n      <div className=\"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n        <div className=\"bg-white rounded-lg shadow p-6\">\r\n          <h1 className=\"text-2xl font-bold text-gray-900 mb-4\">Finalize Booking</h1>\r\n          <p className=\"text-gray-600 mb-6\">\r\n            Both parties marked interest. To proceed, please pay the platform fee to secure the finalization.\r\n          </p>\r\n          <div className=\"mb-4 text-sm text-gray-600\">\r\n            <p><strong>Visit ID:</strong> {visitId}</p>\r\n            <p><strong>Listing ID:</strong> {listingId}</p>\r\n          </div>\r\n          {!paid ? (\r\n            <div>\r\n              <div className=\"flex items-center justify-between bg-gray-50 rounded p-4 mb-6\">\r\n                <div>\r\n                  <p className=\"text-gray-900 font-medium\">Platform Fee</p>\r\n                  <p className=\"text-gray-500 text-sm\">One-time service fee</p>\r\n                </div>\r\n                <div className=\"text-lg font-semibold text-gray-900\">Rs. 250</div>\r\n              </div>\r\n              <button\r\n                onClick={handlePay}\r\n                disabled={isPaying}\r\n                className={`w-full py-3 rounded-md text-white font-semibold ${isPaying ? 'bg-gray-400' : 'bg-blue-600 hover:bg-blue-700'}`}\r\n              >\r\n                {isPaying ? 'Processing Payment…' : 'Pay and Continue'}\r\n              </button>\r\n            </div>\r\n          ) : (\r\n            <div className=\"text-center\">\r\n              <div className=\"mx-auto w-16 h-16 rounded-full bg-green-100 flex items-center justify-center mb-4\">\r\n                <svg className=\"w-8 h-8 text-green-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" /></svg>\r\n              </div>\r\n              <h2 className=\"text-xl font-semibold text-gray-900 mb-2\">Payment Successful</h2>\r\n              <p className=\"text-gray-600 mb-6\">We’re generating your agreement draft.</p>\r\n              <Link to=\"/messages\" className=\"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700\">Go to Messages</Link>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FinalizePage;\r\n\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}